import{d as D,r as f,a as N,c as S,e as l,w as a,f as r,o as $,b as s,t as V,g as m,E as k,J as j,_ as A}from"./index-CEiZuroB.js";const M={class:"system-product"},R={class:"card-header"},I={class:"price"},J=D({__name:"product",setup(T){const d=f(!1),c=f(!1),g=f(),o=N({id:"",code:"",name:"",spec:"",unit:"吨",price:0,freightPrice:0,status:"active",remark:""}),w={code:[{required:!0,message:"请输入品种编码",trigger:"blur"}],name:[{required:!0,message:"请输入品种名称",trigger:"blur"}],price:[{required:!0,message:"请输入标准单价",trigger:"blur"}]},y=f([{id:"1",code:"P.O42.5",name:"普通硅酸盐水泥42.5",spec:"散装",unit:"吨",price:450,freightPrice:15,status:"active",remark:"常用品种"},{id:"2",code:"P.O52.5",name:"普通硅酸盐水泥52.5",spec:"散装",unit:"吨",price:520,freightPrice:15,status:"active",remark:"高标号"},{id:"3",code:"P.C32.5",name:"复合硅酸盐水泥32.5",spec:"散装",unit:"吨",price:380,freightPrice:15,status:"active",remark:""},{id:"4",code:"P.S.A32.5",name:"矿渣硅酸盐水泥32.5",spec:"袋装",unit:"吨",price:360,freightPrice:18,status:"active",remark:"袋装50kg/袋"}]),P=()=>{c.value=!1,Object.assign(o,{id:"",code:"",name:"",spec:"",unit:"吨",price:0,freightPrice:0,status:"active",remark:""}),d.value=!0},x=_=>{c.value=!0,Object.assign(o,_),d.value=!0},C=async()=>{await g.value?.validate(),k.success(c.value?"修改成功":"创建成功"),d.value=!1},U=async _=>{await j.confirm("确定删除该品种吗？","提示"),k.success("删除成功")};return(_,e)=>{const u=r("el-button"),n=r("el-table-column"),h=r("el-switch"),E=r("el-table"),O=r("el-card"),p=r("el-input"),i=r("el-form-item"),v=r("el-input-number"),B=r("el-form"),q=r("el-dialog");return $(),S("div",M,[l(O,{shadow:"never"},{header:a(()=>[s("div",R,[e[10]||(e[10]=s("span",null,"水泥品种管理",-1)),l(u,{type:"primary",onClick:P},{default:a(()=>[...e[9]||(e[9]=[m("新增品种",-1)])]),_:1})])]),default:a(()=>[l(E,{data:y.value,stripe:""},{default:a(()=>[l(n,{prop:"code",label:"品种编码",width:"120"}),l(n,{prop:"name",label:"品种名称",width:"150"}),l(n,{prop:"spec",label:"规格",width:"120"}),l(n,{prop:"unit",label:"单位",width:"80"}),l(n,{prop:"price",label:"标准单价(元/吨)",width:"150"},{default:a(({row:t})=>[s("span",I,"¥"+V(t.price),1)]),_:1}),l(n,{prop:"freightPrice",label:"运费单价(元/吨)",width:"150"},{default:a(({row:t})=>[s("span",null,"¥"+V(t.freightPrice),1)]),_:1}),l(n,{prop:"status",label:"状态",width:"80"},{default:a(({row:t})=>[l(h,{modelValue:t.status,"onUpdate:modelValue":b=>t.status=b,"active-value":"active","inactive-value":"inactive"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(n,{prop:"remark",label:"备注"}),l(n,{label:"操作",width:"120",fixed:"right"},{default:a(({row:t})=>[l(u,{link:"",type:"primary",onClick:b=>x(t)},{default:a(()=>[...e[11]||(e[11]=[m("编辑",-1)])]),_:1},8,["onClick"]),l(u,{link:"",type:"danger",onClick:b=>U(t)},{default:a(()=>[...e[12]||(e[12]=[m("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),l(q,{modelValue:d.value,"onUpdate:modelValue":e[8]||(e[8]=t=>d.value=t),title:c.value?"编辑品种":"新增品种",width:"500"},{footer:a(()=>[l(u,{onClick:e[7]||(e[7]=t=>d.value=!1)},{default:a(()=>[...e[15]||(e[15]=[m("取消",-1)])]),_:1}),l(u,{type:"primary",onClick:C},{default:a(()=>[...e[16]||(e[16]=[m("确定",-1)])]),_:1})]),default:a(()=>[l(B,{model:o,rules:w,ref_key:"formRef",ref:g,"label-width":"120px"},{default:a(()=>[l(i,{label:"品种编码",prop:"code"},{default:a(()=>[l(p,{modelValue:o.code,"onUpdate:modelValue":e[0]||(e[0]=t=>o.code=t),placeholder:"如：P.O42.5"},null,8,["modelValue"])]),_:1}),l(i,{label:"品种名称",prop:"name"},{default:a(()=>[l(p,{modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),placeholder:"如：普通硅酸盐水泥42.5"},null,8,["modelValue"])]),_:1}),l(i,{label:"规格",prop:"spec"},{default:a(()=>[l(p,{modelValue:o.spec,"onUpdate:modelValue":e[2]||(e[2]=t=>o.spec=t),placeholder:"如：散装/袋装"},null,8,["modelValue"])]),_:1}),l(i,{label:"单位",prop:"unit"},{default:a(()=>[l(p,{modelValue:o.unit,"onUpdate:modelValue":e[3]||(e[3]=t=>o.unit=t),placeholder:"吨",style:{width:"120px"}},null,8,["modelValue"])]),_:1}),l(i,{label:"标准单价",prop:"price"},{default:a(()=>[l(v,{modelValue:o.price,"onUpdate:modelValue":e[4]||(e[4]=t=>o.price=t),min:0,precision:2,style:{width:"200px"}},null,8,["modelValue"]),e[13]||(e[13]=s("span",{style:{"margin-left":"8px"}},"元/吨",-1))]),_:1}),l(i,{label:"运费单价",prop:"freightPrice"},{default:a(()=>[l(v,{modelValue:o.freightPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>o.freightPrice=t),min:0,precision:2,style:{width:"200px"}},null,8,["modelValue"]),e[14]||(e[14]=s("span",{style:{"margin-left":"8px"}},"元/吨",-1))]),_:1}),l(i,{label:"备注"},{default:a(()=>[l(p,{modelValue:o.remark,"onUpdate:modelValue":e[6]||(e[6]=t=>o.remark=t),type:"textarea",rows:2},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),F=A(J,[["__scopeId","data-v-2b1c8371"]]);export{F as default};
