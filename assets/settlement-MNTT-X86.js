import{d as D,a as N,r as f,c as R,e,w as t,f as o,o as g,g as d,b as u,t as v,j as Y,z as E,E as b,_ as M}from"./index-CEiZuroB.js";const U={class:"settlement"},j={class:"card-header"},q={style:{color:"#f56c6c","font-weight":"600"}},z=D({__name:"settlement",setup(I){const s=N({driver:"",dateRange:[],status:""}),p=f([]),y=f([{driver:"张三",vehicle:"豫A11111",trips:28,weight:980,amount:14700,period:"2024-12-01 ~ 2024-12-15",status:"pending"},{driver:"李四",vehicle:"豫A22222",trips:25,weight:875,amount:13125,period:"2024-12-01 ~ 2024-12-15",status:"pending"},{driver:"王五",vehicle:"豫A33333",trips:30,weight:1050,amount:15750,period:"2024-12-01 ~ 2024-12-15",status:"settled"},{driver:"赵六",vehicle:"豫A44444",trips:22,weight:770,amount:11550,period:"2024-11-16 ~ 2024-11-30",status:"settled"}]),h=_=>{p.value=_},w=()=>{if(p.value.length===0){b.warning("请选择要结算的记录");return}b.success(`已结算 ${p.value.length} 条记录`)};return(_,l)=>{const V=o("el-input"),i=o("el-form-item"),x=o("el-date-picker"),m=o("el-option"),k=o("el-select"),r=o("el-button"),C=o("el-form"),c=o("el-card"),n=o("el-table-column"),B=o("el-tag"),S=o("el-table"),A=o("el-pagination");return g(),R("div",U,[e(c,{shadow:"never"},{default:t(()=>[e(C,{model:s,inline:""},{default:t(()=>[e(i,{label:"司机"},{default:t(()=>[e(V,{modelValue:s.driver,"onUpdate:modelValue":l[0]||(l[0]=a=>s.driver=a),placeholder:"请输入",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"日期"},{default:t(()=>[e(x,{modelValue:s.dateRange,"onUpdate:modelValue":l[1]||(l[1]=a=>s.dateRange=a),type:"daterange","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(i,{label:"状态"},{default:t(()=>[e(k,{modelValue:s.status,"onUpdate:modelValue":l[2]||(l[2]=a=>s.status=a),placeholder:"请选择",clearable:""},{default:t(()=>[e(m,{label:"待结算",value:"pending"}),e(m,{label:"已结算",value:"settled"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(r,{type:"primary"},{default:t(()=>[...l[3]||(l[3]=[d("查询",-1)])]),_:1}),e(r,null,{default:t(()=>[...l[4]||(l[4]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(c,{shadow:"never",style:{"margin-top":"16px"}},{header:t(()=>[u("div",j,[l[6]||(l[6]=u("span",null,"运费结算",-1)),e(r,{type:"primary",onClick:w},{default:t(()=>[...l[5]||(l[5]=[d("批量结算",-1)])]),_:1})])]),default:t(()=>[e(S,{data:y.value,stripe:"",onSelectionChange:h},{default:t(()=>[e(n,{type:"selection",width:"50"}),e(n,{prop:"driver",label:"司机",width:"100"}),e(n,{prop:"vehicle",label:"车牌号",width:"120"}),e(n,{prop:"trips",label:"趟次",width:"80"}),e(n,{prop:"weight",label:"总吨数",width:"100"}),e(n,{prop:"amount",label:"运费(元)",width:"120"},{default:t(({row:a})=>[u("span",q,"¥"+v(a.amount.toLocaleString()),1)]),_:1}),e(n,{prop:"period",label:"结算周期"}),e(n,{prop:"status",label:"状态"},{default:t(({row:a})=>[e(B,{type:a.status==="pending"?"warning":"success"},{default:t(()=>[d(v(a.status==="pending"?"待结算":"已结算"),1)]),_:2},1032,["type"])]),_:1}),e(n,{label:"操作",width:"140",fixed:"right"},{default:t(({row:a})=>[e(r,{link:"",type:"primary"},{default:t(()=>[...l[7]||(l[7]=[d("明细",-1)])]),_:1}),a.status==="pending"?(g(),Y(r,{key:0,link:"",type:"primary"},{default:t(()=>[...l[8]||(l[8]=[d("结算",-1)])]),_:1})):E("",!0)]),_:1})]),_:1},8,["data"]),e(A,{style:{"margin-top":"16px","justify-content":"flex-end"},total:50,layout:"total, prev, pager, next"})]),_:1})])}}}),T=M(z,[["__scopeId","data-v-5c128f1b"]]);export{T as default};
